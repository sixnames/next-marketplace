import React, { useCallback } from 'react';
import AppNavUser from './AppNavUser';
import AppNavItem from './AppNavItem';
import useCompact from '../../hooks/useCompact';
import useAppNavItems from '../../hooks/useAppNavItems';
import Icon from '../../components/Icon/Icon';
import AnimateOpacity from '../../components/AnimateOpacity/AnimateOpacity';
import TTip from '../TTip/TTip';
import useSignOut from '../../hooks/mutations/useSignOut';
import { useThemeContext } from '../../context/themeContext';
import { useLocation } from 'react-router-dom';
import classes from './AppNav.module.css';

const AppNav: React.FC = () => {
  const { pathname } = useLocation();
  const navItems = useAppNavItems();
  const { toggleTheme, isDark } = useThemeContext();
  const { isCompact, toggleCompactHandler, setCompactOn, setCompactOff } = useCompact();
  const signOutHandler = useSignOut();

  const mobileNavHandler = useCallback(toggleCompactHandler, []);
  const closeNavHandler = useCallback(setCompactOn, []);
  const openNavHandler = useCallback(setCompactOff, []);
  const themeTooltip = isDark ? 'Светлая тема' : 'Тёмная тема';

  return (
    <nav className={classes.frame}>
      <div className={`${classes.collapse}`} onClick={mobileNavHandler}>
        <Icon name='Menu' className={classes.CollapseIcon} />
      </div>

      <div className={`${classes.nav} ${isCompact && classes.navCompact}`}>
        <div className={classes.holder}>
          <div className={`${classes.logo} ${isCompact ? classes.logoCompact : ''}`}>
            <svg
              className={classes.logoIcon}
              width='20'
              height='19'
              viewBox='0 0 20 19'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path d='M10.83 12.2946L0 18.6647V14.033L11.6332 10.8226L10.83 12.2946Z' />
              <path d='M9.41113 14.6802L2.93188 18.6646H7.02827L9.41113 14.6802Z' />
              <path d='M11.9678 13.3478L8.86206 18.6646L13.0254 18.6899L11.9678 13.3478Z' />
              <path d='M13.467 10.7465L19.2903 7.29496L17.0681 4.54138L13.467 10.7465Z' />
              <path d='M18.8086 9.1095L13.3066 12.3961L14.4311 18.1697L17.229 15.3654L18.9559 15.3908L18.9693 12.4722L20.0001 12.4849L18.8086 9.1095Z' />
              <path d='M14.8994 5.31543L9.46436 2.07962L12.3292 0.962952L15.542 4.2749L14.8994 5.31543Z' />
              <path d='M14.1232 6.60973L13.5877 7.48529L3.03882 5.70879L7.48327 2.59991L14.1232 6.60973Z' />
              <path d='M12.9451 8.44973L12.3159 9.52832L0 12.1169L1.45917 7.45996L12.9451 8.44973Z' />
            </svg>

            <svg
              className={`${classes.logoName} ${isCompact ? classes.logoNameCompact : ''}`}
              width='78'
              height='22'
              viewBox='0 0 78 22'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path d='M7.70236 15.7219H5.35819L2.88068 8.4188V7.00176H5.08972V2.01848H2.25511V15.7219H0.00683594V0H5.97317C6.87601 0 7.32736 0.482031 7.32721 1.44609V7.16175C7.32721 7.82582 7.11281 8.25452 6.68402 8.44785C6.44714 8.54835 5.96016 8.59861 5.22308 8.59861L7.70236 15.7219Z' />
              <path d='M11.3596 15.7219H9.11133V0H11.3596V15.7219Z' />
              <path d='M20.639 14.2861C20.639 15.2439 20.1811 15.7222 19.2653 15.7212H14.5466C13.6556 15.7212 13.2107 15.2428 13.2119 14.2861V1.44586C13.2119 0.480879 13.6663 -0.00107243 14.575 1.79174e-06H19.2724C20.1893 1.79174e-06 20.6473 0.482032 20.6463 1.44609V4.79194H18.3883V2.00374H15.4532V13.7027H18.3819V9.30289H16.7113V7.30308H20.639V14.2862L20.639 14.2861Z' />
              <path d='M29.996 15.7219H27.7283V8.66916H24.6766V15.7219H22.4355V0H24.6766V6.47962H27.721V0H29.9889L29.996 15.7219Z' />
              <path d='M38.3152 2.07818H35.8359V15.7219H33.5984V2.07818H31.1191V0H38.3152V2.07818Z' />
              <path d='M50.9459 14.2864C50.9459 15.2441 50.4879 15.7225 49.572 15.7214H44.8462C43.9566 15.7214 43.5111 15.2431 43.5098 14.2864V1.44609C43.5098 0.480958 43.9647 -0.00107243 44.8746 1.79145e-06H49.572C50.4879 1.79145e-06 50.9459 0.482032 50.9459 1.44609V4.79218H48.6888V2.00398H45.7572V13.7029H48.6888V9.30312H47.0162V7.30331H50.9459V14.2864V14.2864Z' />
              <path d='M60.2646 14.2861C60.2646 15.2439 59.8037 15.7222 58.8819 15.7212H54.1062C53.1989 15.7212 52.7445 15.2428 52.7432 14.2861V0H54.9897V13.7025H58.011V0H60.2592L60.2646 14.2861Z' />
              <path d='M69.6298 0.0891816L67.6409 6.65917C67.3969 7.30972 67.0669 8.4051 66.651 9.94531V15.7218H64.394V9.94602C64.2611 9.28881 64.1091 8.73355 63.9252 8.19416L63.9531 8.28809C63.6137 7.28991 63.4312 6.74718 63.4056 6.6599L61.4258 0.0899121V0H63.7362L65.5331 6.83094L67.3299 0H69.6404L69.6298 0.0892031V0.0891816Z' />
              <path d='M77.9935 14.2861C77.9935 15.2439 77.5386 15.7222 76.6287 15.7212H72.0984C71.1956 15.7212 70.7441 15.2428 70.7441 14.2861V10.5371H72.9907V13.7435H75.7382V10.6616L71.2401 6.20114C70.9381 5.89899 70.7505 5.47418 70.7505 5.00352C70.7505 4.98352 70.7508 4.96358 70.7515 4.94375L70.7514 4.94663V1.44609C70.7514 0.480958 71.2027 -0.00107243 72.1054 1.79145e-06H76.6287C77.5386 1.79145e-06 77.9935 0.475193 77.9935 1.42558V4.94248H75.7382V1.97768H72.9906V4.82168L77.496 9.26207C77.8034 9.56753 77.9946 9.99823 77.9946 10.4756C77.9946 10.4972 77.9942 10.5188 77.9934 10.5402L77.9935 10.5371V14.2861L77.9935 14.2861Z' />
              <path d='M0.0292969 18.1018C0.15362 18.0941 0.284257 18.0848 0.421207 18.0739C0.558158 18.063 0.72788 18.0574 0.930375 18.0571C1.28216 18.0571 1.53447 18.1138 1.68731 18.2272C1.84014 18.3406 1.91663 18.5125 1.91677 18.7429C1.91479 18.8851 1.87398 19.0169 1.80493 19.1277L1.80655 19.1249C1.73308 19.2493 1.6131 19.3416 1.44661 19.4015V19.4245C1.65631 19.4656 1.80384 19.5418 1.88922 19.6532C1.97459 19.7646 2.0172 19.9133 2.01705 20.0993C2.01705 20.3893 1.9175 20.5994 1.71839 20.7296C1.51927 20.8597 1.22075 20.9247 0.822814 20.9246C0.673511 20.9246 0.534869 20.92 0.406889 20.9108C0.278909 20.9015 0.153052 20.8909 0.0293174 20.8787V18.1018L0.0292969 18.1018ZM0.455801 20.5105C0.523242 20.5179 0.590046 20.5237 0.655721 20.5274C0.721395 20.531 0.798779 20.5329 0.887605 20.5329C1.1258 20.5329 1.30265 20.4976 1.41816 20.4269C1.53366 20.3562 1.59141 20.2354 1.59141 20.0645C1.5915 20.0614 1.59154 20.0578 1.59154 20.0542C1.59154 19.9264 1.53451 19.8126 1.44562 19.7389L1.44482 19.7383C1.34696 19.6547 1.17371 19.6129 0.925075 19.6129H0.455801V20.5105V20.5105ZM0.978198 19.2726C0.978506 19.2726 0.978896 19.2726 0.979266 19.2726C1.04582 19.2726 1.10963 19.2604 1.16875 19.2379L1.16489 19.2392C1.22711 19.2161 1.28099 19.1849 1.32886 19.146L1.32754 19.147C1.37424 19.1093 1.41327 19.064 1.44363 19.0125L1.44482 19.0103C1.47331 18.963 1.49022 18.9054 1.49022 18.8437C1.49022 18.8435 1.49022 18.8434 1.49022 18.8432V18.8432C1.49022 18.6946 1.44753 18.5914 1.36216 18.5336C1.27678 18.4758 1.12749 18.4471 0.914269 18.4474C0.800532 18.4474 0.710823 18.4492 0.645142 18.4529L0.455801 18.4647V19.2731H0.978198V19.2726ZM6.13382 20.7007C6.02583 20.7824 5.89966 20.8465 5.76356 20.8855L5.75536 20.8875C5.62044 20.9279 5.46547 20.9511 5.3053 20.9511C5.30211 20.9511 5.29893 20.9511 5.29575 20.9511H5.29624C5.09051 20.9511 4.91638 20.9168 4.77384 20.8481C4.63239 20.7798 4.51497 20.6793 4.42639 20.555L4.4247 20.5525C4.33318 20.4213 4.26439 20.2661 4.22786 20.098L4.22632 20.0896C4.18717 19.917 4.16471 19.7188 4.16471 19.5152C4.16471 19.5064 4.16476 19.4977 4.16484 19.4889V19.4903C4.16484 19.0182 4.26439 18.657 4.46351 18.4068C4.66262 18.1566 4.94872 18.0311 5.32181 18.0303C5.33365 18.0301 5.34759 18.0299 5.36156 18.0299C5.50224 18.0299 5.63959 18.0448 5.77225 18.0733L5.75912 18.0709C5.88106 18.0989 5.98875 18.1403 6.08898 18.1947L6.0816 18.191L5.9575 18.5758C5.87934 18.5288 5.78891 18.4894 5.69359 18.4625L5.6855 18.4605C5.59197 18.4339 5.48457 18.4185 5.37377 18.4185C5.37116 18.4185 5.36855 18.4185 5.36594 18.4186H5.36635C4.86159 18.4186 4.60921 18.7755 4.60921 19.4894C4.60921 19.4917 4.60919 19.4944 4.60919 19.4971C4.60919 19.6377 4.62382 19.7747 4.65155 19.9065L4.64933 19.8939C4.67477 20.0227 4.72068 20.1368 4.78383 20.238L4.78159 20.2342C4.84451 20.3327 4.92688 20.4126 5.02339 20.4693L5.02693 20.4712C5.12832 20.5307 5.2536 20.5604 5.40275 20.5604C5.40721 20.5605 5.41245 20.5605 5.41771 20.5605C5.53579 20.5605 5.64885 20.538 5.75315 20.4968L5.74661 20.4991C5.84129 20.463 5.92326 20.4162 5.99721 20.3588L5.99458 20.3608L6.13388 20.7008L6.13382 20.7007ZM10.1699 20.6615C10.0557 20.754 9.92156 20.8266 9.77593 20.8712L9.76745 20.8734C9.61654 20.923 9.443 20.9516 9.26308 20.9516C9.25953 20.9516 9.256 20.9516 9.25244 20.9515H9.25298C9.05048 20.9515 8.87452 20.9172 8.72508 20.8485C8.57719 20.7809 8.45365 20.6804 8.3587 20.555L8.3572 20.553C8.26129 20.4225 8.18774 20.2684 8.14574 20.1008L8.14382 20.0919C8.09976 19.9194 8.07445 19.7215 8.07445 19.5173C8.07445 19.5076 8.07451 19.4979 8.07462 19.4883L8.0746 19.4898C8.0746 19.0133 8.17592 18.6509 8.37856 18.4024C8.58121 18.1539 8.87091 18.0293 9.24768 18.0287C9.37615 18.0288 9.50117 18.044 9.62129 18.0727L9.61005 18.0704C9.73478 18.0991 9.84419 18.1545 9.93713 18.2309L9.9354 18.2295C10.0312 18.3074 10.1094 18.418 10.1699 18.5612C10.2305 18.7044 10.2607 18.8931 10.2605 19.1271C10.2594 19.2718 10.2478 19.4126 10.2266 19.5501L10.2286 19.5342H8.51747C8.51737 19.5413 8.51731 19.5497 8.51731 19.5581C8.51731 19.7041 8.53481 19.8458 8.56774 19.9811L8.5653 19.9692C8.5948 20.0923 8.64646 20.1997 8.71604 20.2917L8.71474 20.2899C8.7842 20.3779 8.87319 20.4465 8.97489 20.4889L8.97925 20.4905C9.0877 20.5366 9.21995 20.5596 9.37601 20.5596C9.50606 20.5593 9.63057 20.535 9.74588 20.4907L9.73838 20.4932C9.85917 20.4488 9.94984 20.3968 10.0104 20.3372L10.1702 20.6599L10.1699 20.6615ZM9.2532 18.4185C9.04337 18.4185 8.87541 18.4761 8.74932 18.5914C8.62323 18.7067 8.5477 18.9037 8.52273 19.1825H9.84526C9.84526 18.9002 9.79383 18.7022 9.69097 18.5887C9.5881 18.4751 9.44218 18.4184 9.2532 18.4185ZM8.44822 17.3434C8.448 17.3391 8.44787 17.3341 8.44787 17.3292C8.44787 17.2545 8.4754 17.1865 8.52045 17.1357L8.52029 17.1359C8.56967 17.0875 8.63627 17.0578 8.70953 17.0578C8.78278 17.0578 8.84936 17.0875 8.89891 17.136L8.89876 17.1359C8.94365 17.1864 8.97118 17.2544 8.97118 17.3291C8.97118 17.3341 8.97105 17.3391 8.97081 17.344L8.97083 17.3434C8.97089 17.3457 8.97093 17.3485 8.97093 17.3513C8.97093 17.424 8.9434 17.49 8.89866 17.5385L8.89874 17.5384C8.84936 17.5868 8.78276 17.6165 8.7095 17.6165C8.63625 17.6165 8.56967 17.5868 8.52012 17.5382L8.52027 17.5384C8.47561 17.49 8.44808 17.424 8.44808 17.3513C8.44808 17.3485 8.44812 17.3457 8.4482 17.3429V17.3434H8.44822ZM9.47186 17.3434C9.47163 17.3391 9.47151 17.3341 9.47151 17.3292C9.47151 17.2545 9.49904 17.1865 9.54409 17.1357L9.54392 17.1359C9.58948 17.0875 9.65282 17.0575 9.72285 17.0575C9.7265 17.0575 9.73016 17.0576 9.73378 17.0577L9.73326 17.0577C9.7371 17.0575 9.7416 17.0574 9.74612 17.0574C9.81706 17.0574 9.88131 17.0874 9.9279 17.1359C9.97264 17.1865 10.0001 17.2544 10.0001 17.3291C10.0001 17.3341 9.99999 17.3391 9.99974 17.344L9.99976 17.3434C9.9999 17.3466 9.99997 17.3504 9.99997 17.3542C9.99997 17.4994 9.88745 17.617 9.74869 17.617C9.74327 17.617 9.73788 17.6168 9.73254 17.6165L9.73328 17.6165C9.73018 17.6167 9.72652 17.6168 9.72287 17.6168C9.65284 17.6168 9.58951 17.5868 9.54398 17.5384L9.54394 17.5384C9.49914 17.49 9.47153 17.4239 9.47153 17.3511C9.47153 17.3484 9.47157 17.3457 9.47165 17.343V17.3434H9.47186ZM17.832 21.5924H17.5441L17.4634 20.8852H15.4594L15.3793 21.5933H15.0915V20.4933H15.406C15.4458 20.4303 15.4832 20.3579 15.5146 20.2821L15.518 20.2729C15.5703 20.1474 15.6171 19.9985 15.6508 19.8443L15.654 19.8268C15.6993 19.633 15.7405 19.39 15.7685 19.1428L15.7713 19.1122C15.8062 18.8117 15.8283 18.4591 15.8323 18.1018L15.8323 18.0958H17.4414V20.4933H17.8307V21.5917L17.832 21.5924ZM17.0164 20.494V18.4877H16.2165C16.2093 18.6437 16.1968 18.8137 16.179 18.9978C16.1612 19.1819 16.1373 19.3654 16.1072 19.5481C16.0735 19.7547 16.0337 19.9304 15.9845 20.1018L15.9925 20.0693C15.9477 20.2322 15.8932 20.3729 15.8265 20.5058L15.8323 20.4932L17.0164 20.494ZM21.4202 18.4877H20.6471C20.6363 18.6437 20.6255 18.8119 20.615 18.9923C20.6044 19.1727 20.5884 19.353 20.5671 19.5331C20.5458 19.7134 20.5174 19.8863 20.4818 20.0518C20.4472 20.2187 20.4004 20.3651 20.3404 20.5039L20.3458 20.4898C20.2962 20.6083 20.2278 20.709 20.1437 20.7925L20.1433 20.7929C20.0704 20.8637 19.9725 20.9071 19.8649 20.9071C19.8625 20.9071 19.8601 20.9071 19.8577 20.907H19.8581C19.8544 20.9071 19.85 20.9071 19.8457 20.9071C19.7878 20.9071 19.731 20.9031 19.6752 20.8952L19.6817 20.896C19.6325 20.8889 19.5879 20.8752 19.5464 20.8557L19.5495 20.857L19.6134 20.4833C19.6541 20.498 19.701 20.5064 19.7498 20.5064C19.7506 20.5064 19.7514 20.5064 19.7522 20.5064H19.752C19.8289 20.505 19.8973 20.4686 19.9437 20.412L19.944 20.4117C20.0009 20.3485 20.0506 20.2286 20.0933 20.052C20.1359 19.8754 20.1712 19.6306 20.1993 19.3176C20.2276 19.0053 20.2472 18.598 20.2579 18.0958H21.8467V20.8851H21.4202V18.4877L21.4202 18.4877ZM25.6216 19.7312L25.2109 19.798L24.5071 20.8852H23.99L24.6293 19.9317L24.8424 19.7242C24.6584 19.6968 24.4967 19.6127 24.3702 19.4895L24.3707 19.49C24.2408 19.3637 24.1759 19.1927 24.1761 18.9769C24.1761 18.8098 24.2036 18.6667 24.2587 18.5476C24.3147 18.4277 24.3951 18.3283 24.4937 18.2537L24.4959 18.2521C24.6005 18.174 24.7238 18.1151 24.8569 18.0833L24.8638 18.082C25.0013 18.0482 25.1591 18.0288 25.3212 18.0288C25.3291 18.0288 25.337 18.0289 25.3448 18.0289L25.3436 18.0289C25.3474 18.0289 25.3519 18.0289 25.3563 18.0289C25.4817 18.0289 25.6048 18.039 25.7249 18.0586L25.7115 18.0568C25.8253 18.0754 25.9372 18.0958 26.0474 18.1181V20.8851H25.6209V19.7299L25.6216 19.7312ZM25.6216 18.4764C25.5773 18.4585 25.5254 18.4439 25.4715 18.4352L25.4673 18.4347C25.4228 18.4264 25.3712 18.4213 25.3187 18.4206H25.3181C25.0906 18.4206 24.9173 18.4634 24.7983 18.549C24.6793 18.6346 24.6197 18.7703 24.6196 18.9559C24.6196 19.1233 24.6827 19.2525 24.8089 19.3437C24.9351 19.4348 25.1013 19.4803 25.3075 19.4801H25.3661C25.3876 19.4801 25.4178 19.4792 25.4567 19.4774L25.622 19.4691V18.4753L25.6216 18.4764ZM33.7044 19.2293L33.7364 18.6991H33.7099L33.5179 19.1283L32.8727 20.2212H32.7235L32.0517 19.1283L31.8753 18.6991H31.8533L31.8958 19.2233V20.8851H31.5013V18.0958H31.9229L32.6695 19.345L32.8238 19.6677H32.8346L32.9944 19.333L33.6929 18.0951H34.1194V20.8851H33.7035V19.2281L33.7044 19.2293ZM38.5135 20.6611C38.3993 20.7536 38.2651 20.8261 38.1195 20.8707L38.111 20.8729C37.9601 20.9225 37.7866 20.9511 37.6066 20.9511C37.603 20.9511 37.5994 20.9511 37.5958 20.9511H37.5964C37.3937 20.9511 37.2178 20.9167 37.0687 20.848C36.9208 20.7806 36.7972 20.68 36.7023 20.5546L36.7008 20.5525C36.6048 20.4221 36.5312 20.2679 36.4893 20.1004L36.4875 20.0914C36.4434 19.9194 36.4181 19.7218 36.4181 19.518C36.4181 19.508 36.4181 19.4979 36.4182 19.4878L36.4182 19.4893C36.4182 19.0129 36.5195 18.6504 36.722 18.4019C36.9245 18.1534 37.2142 18.0289 37.5911 18.0283C37.7196 18.0283 37.8447 18.0436 37.9649 18.0722L37.9537 18.07C38.0784 18.0987 38.1878 18.1541 38.2808 18.2304L38.279 18.229C38.375 18.307 38.4532 18.4175 38.5136 18.5608C38.574 18.704 38.6042 18.8926 38.6042 19.1267C38.603 19.2713 38.5915 19.4122 38.5702 19.5497L38.5722 19.5338H36.8604C36.8603 19.5407 36.8603 19.5487 36.8603 19.5568C36.8603 19.7031 36.8779 19.8451 36.9109 19.9807L36.9085 19.9688C36.9382 20.0922 36.9902 20.2 37.0601 20.2922L37.0588 20.2904C37.1283 20.3783 37.2173 20.4469 37.3189 20.4893L37.3233 20.491C37.4317 20.5371 37.564 20.5601 37.72 20.5601C37.8502 20.5595 37.9748 20.535 38.0901 20.4905L38.0826 20.493C38.2034 20.4486 38.294 20.3966 38.3544 20.337L38.5144 20.6597L38.5135 20.6611ZM37.5966 18.4185C37.387 18.4185 37.2191 18.4761 37.0927 18.5914C36.9663 18.7067 36.8908 18.9037 36.8661 19.1825H38.1886C38.1886 18.9002 38.1372 18.7022 38.0343 18.5887C37.9315 18.4751 37.7855 18.4184 37.5966 18.4185ZM40.9029 18.0958H41.1963L41.2763 18.4305H41.2983C41.3775 18.3036 41.4847 18.2022 41.6111 18.1344L41.6157 18.1322C41.7403 18.0669 41.8871 18.0287 42.0424 18.0287C42.0489 18.0287 42.0553 18.0288 42.0617 18.0289L42.0607 18.0289C42.4163 18.0289 42.6812 18.1386 42.8553 18.3579C43.0295 18.5772 43.1165 18.936 43.1165 19.4342C43.1166 19.4423 43.1167 19.4518 43.1167 19.4613C43.1167 19.6775 43.0844 19.8859 43.0246 20.0814L43.0284 20.067C42.973 20.2506 42.8883 20.4094 42.7787 20.5458L42.7804 20.5437C42.6758 20.6713 42.5464 20.7733 42.3997 20.8421L42.3929 20.845C42.2495 20.9121 42.0821 20.9512 41.906 20.9512C41.9 20.9512 41.894 20.9511 41.8881 20.9511H41.889C41.8787 20.9513 41.8665 20.9514 41.8544 20.9514C41.7564 20.9514 41.6605 20.9422 41.5674 20.9244L41.5771 20.9259C41.4827 20.9038 41.4 20.8741 41.3216 20.8361L41.3293 20.8395V21.9995H40.9026V18.0957L40.9029 18.0958ZM41.9801 18.4185C41.7986 18.4185 41.6555 18.4678 41.5507 18.5663C41.4459 18.6648 41.3724 18.8144 41.3303 19.0151V20.3983C41.3925 20.4491 41.4651 20.4899 41.5437 20.5167L41.5487 20.5181C41.6304 20.5461 41.7388 20.5601 41.874 20.5601C42.1193 20.5601 42.3139 20.4644 42.4579 20.2729C42.6019 20.0814 42.6739 19.7999 42.6737 19.4282C42.6738 19.4228 42.6738 19.4163 42.6738 19.4098C42.6738 19.2695 42.6602 19.1325 42.6343 19.0002L42.6365 19.0133C42.6143 18.8932 42.5726 18.7865 42.5145 18.6918L42.5166 18.6954C42.4627 18.6097 42.3908 18.5408 42.3063 18.4934L42.3032 18.4919C42.2162 18.4435 42.1087 18.4193 41.9807 18.4193L41.9801 18.4185ZM45.2643 19.4893C45.2643 19.0172 45.3647 18.6561 45.5656 18.4058C45.7665 18.1556 46.0553 18.0302 46.4319 18.0294C46.6311 18.0294 46.8045 18.0638 46.9519 18.1327C47.0987 18.2006 47.2213 18.3012 47.3156 18.4261L47.3171 18.4282C47.4133 18.559 47.4869 18.7138 47.5284 18.882L47.5303 18.8909C47.5744 19.0635 47.5998 19.2617 47.5998 19.4661C47.5998 19.4746 47.5998 19.4831 47.5997 19.4915L47.5997 19.4902C47.5997 19.9624 47.4993 20.3235 47.2984 20.5737C47.0975 20.8239 46.8088 20.9494 46.4321 20.9502C46.2329 20.9502 46.0595 20.9158 45.9122 20.8471C45.7655 20.779 45.6429 20.6785 45.5484 20.5537L45.5469 20.5516C45.4508 20.4207 45.3772 20.2659 45.3356 20.0976L45.3338 20.0887C45.2892 19.9154 45.2636 19.7164 45.2636 19.5111C45.2636 19.5038 45.2636 19.4965 45.2637 19.4892V19.4903L45.2643 19.4893ZM45.7069 19.4893C45.7069 19.4914 45.7069 19.4939 45.7069 19.4963C45.7069 19.6379 45.7214 19.776 45.749 19.909L45.7468 19.8962C45.7718 20.0246 45.8153 20.1386 45.8748 20.2413L45.8722 20.2365C45.9289 20.333 46.0041 20.412 46.0931 20.4699L46.0959 20.4716C46.1868 20.5279 46.2961 20.5611 46.4129 20.5611C46.4196 20.5611 46.4262 20.561 46.4328 20.5608L46.4319 20.5608C46.9152 20.5645 47.1569 20.2077 47.157 19.4903C47.1571 19.4873 47.1571 19.4839 47.1571 19.4804C47.1571 19.3378 47.1425 19.1987 47.1149 19.0647L47.1171 19.0776C47.0922 18.9492 47.0487 18.8353 46.9892 18.7326L46.9917 18.7373C46.8815 18.5454 46.6835 18.4189 46.4572 18.4189C46.4483 18.4189 46.4394 18.4191 46.4306 18.4195L46.4318 18.4194C45.9485 18.4157 45.7069 18.7727 45.7069 19.4902L45.7069 19.4893ZM51.5018 18.4877H50.3234V20.8851H49.8969V18.0958H51.9283V20.8851H51.5018V18.4877H51.5018ZM54.3756 18.0958H54.6687L54.7488 18.4305H54.7708C54.85 18.3037 54.9571 18.2023 55.0834 18.1345L55.088 18.1322C55.2125 18.067 55.3593 18.0287 55.5147 18.0287C55.5212 18.0287 55.5277 18.0288 55.5342 18.0289L55.5332 18.0289C55.8888 18.0289 56.1533 18.1386 56.3267 18.3579C56.5002 18.5772 56.5872 18.9361 56.5879 19.4345C56.5881 19.4428 56.5881 19.4527 56.5881 19.4626C56.5881 19.6785 56.5558 19.8865 56.496 20.0816L56.4998 20.0673C56.4444 20.2508 56.3597 20.4097 56.2504 20.5461L56.252 20.544C56.1476 20.6713 56.0186 20.7732 55.8723 20.8422L55.8654 20.8451C55.722 20.9122 55.5546 20.9512 55.3785 20.9512C55.3725 20.9512 55.3666 20.9512 55.3607 20.9511H55.3616C55.3512 20.9514 55.3391 20.9515 55.3269 20.9515C55.2289 20.9515 55.133 20.9422 55.0399 20.9244L55.0497 20.926C54.9554 20.9037 54.873 20.8738 54.7949 20.8357L54.8026 20.839V21.999H54.3761V18.0958H54.3756ZM55.4526 18.4185C55.2714 18.4185 55.1283 18.4678 55.0234 18.5663C54.9185 18.6648 54.845 18.8144 54.803 19.0151V20.3983C54.8653 20.4491 54.9379 20.4899 55.0166 20.5167L55.0216 20.5182C55.1035 20.5461 55.2119 20.5601 55.3468 20.5601C55.5922 20.5601 55.7868 20.4644 55.9307 20.2729C56.0745 20.0814 56.1465 19.7999 56.1467 19.4283C56.1467 19.4231 56.1467 19.417 56.1467 19.4108C56.1467 19.2702 56.1331 19.1328 56.107 19.0002L56.1092 19.0133C56.0869 18.8931 56.0448 18.7863 55.9864 18.6916L55.9884 18.6952C55.9346 18.6095 55.8628 18.5406 55.7783 18.4932L55.7753 18.4916C55.6871 18.4432 55.5806 18.419 55.4526 18.419V18.4185ZM60.5498 19.2327L60.5656 18.8869H60.5498L60.3311 19.2438L59.1316 20.8851H58.8863V18.0958H59.3128V19.7966L59.2967 20.1256H59.3187L59.5268 19.7798L60.7263 18.0969H60.9769V20.8851H60.5504V19.2346L60.5498 19.2327ZM64.7512 19.7291L64.3406 19.7959L63.6368 20.8852H63.1197L63.7589 19.9317L63.972 19.7242C63.788 19.6968 63.6263 19.6127 63.4998 19.4895L63.5003 19.49C63.3704 19.3637 63.3056 19.1927 63.3057 18.9769C63.3057 18.8098 63.3332 18.6667 63.3884 18.5476C63.4441 18.4276 63.5246 18.3282 63.6233 18.2537L63.6255 18.2521C63.7301 18.174 63.8534 18.1151 63.9865 18.0833L63.9934 18.082C64.1309 18.0482 64.2887 18.0288 64.4509 18.0288C64.4587 18.0288 64.4666 18.0289 64.4744 18.0289L64.4732 18.0289C64.477 18.0289 64.4815 18.0289 64.4859 18.0289C64.6113 18.0289 64.7344 18.039 64.8545 18.0586L64.8411 18.0568C64.9549 18.0754 65.0668 18.0958 65.1771 18.1181V20.8851H64.7505V19.7299L64.7512 19.7291ZM64.7512 18.4743C64.707 18.4564 64.655 18.4418 64.6012 18.4332L64.5969 18.4326C64.5525 18.4243 64.5009 18.4192 64.4483 18.4185H64.4477C64.2202 18.4185 64.0469 18.4613 63.9279 18.547C63.8089 18.6326 63.7493 18.7682 63.7492 18.9538C63.7492 19.1212 63.8123 19.2504 63.9385 19.3416C64.0647 19.4327 64.2309 19.4782 64.4371 19.478H64.4957C64.5172 19.478 64.5474 19.4771 64.5863 19.4753L64.7516 19.467V18.4753L64.7512 18.4743ZM69.2777 18.4856H68.4465V20.8852H68.02V18.4877H67.1881V18.0958H69.2782L69.2777 18.4856ZM72.9887 19.2327L73.0046 18.8869H72.9887L72.7701 19.2438L71.5705 20.8851H71.3252V18.0958H71.7528V19.7966L71.7368 20.1256H71.7588L71.9669 19.7798L73.1664 18.0969H73.417V20.8851H72.9905V19.2346L72.9887 19.2327ZM77.5261 19.2327L77.542 18.8869H77.5261L77.3074 19.2447L76.1077 20.8851H75.8626V18.0958H76.2891V19.7966L76.273 20.1256H76.295L76.5029 19.7798L77.7026 18.0969H77.9532V20.8851H77.5267V19.2346L77.5261 19.2327ZM76.4755 16.9688C76.5112 17.1398 76.5726 17.2587 76.6596 17.3256C76.7405 17.3884 76.8423 17.4262 76.9525 17.4262C76.9555 17.4262 76.9584 17.4262 76.9613 17.4261H76.9609C76.9625 17.4261 76.9645 17.4262 76.9664 17.4262C77.0792 17.4262 77.183 17.3863 77.2657 17.3192L77.2646 17.3201C77.3537 17.2495 77.4141 17.1343 77.446 16.9743L77.7659 17.0803C77.7338 17.2955 77.6423 17.4609 77.4912 17.5767C77.3402 17.6924 77.1598 17.75 76.9501 17.7496C76.8486 17.7495 76.7504 17.7352 76.6571 17.7085L76.6649 17.7104C76.5687 17.6842 76.4843 17.644 76.4085 17.5912L76.4116 17.5933C76.3353 17.5392 76.2714 17.4725 76.2212 17.3953L76.2196 17.3927C76.1666 17.3102 76.1291 17.2123 76.1136 17.1067L76.1132 17.1027L76.4755 16.9688V16.9688Z' />
            </svg>
          </div>

          <AppNavUser compact={isCompact} openNavHandler={openNavHandler} />

          <div className={`${classes.list} ${isCompact ? classes.listClosed : ''}`}>
            <ul className={classes.listHolder}>
              {navItems.map((item) => {
                return (
                  <AppNavItem
                    compact={isCompact}
                    key={item.name}
                    item={item}
                    pathname={pathname}
                    signOutHandler={signOutHandler}
                    openNavHandler={openNavHandler}
                    closeNavHandler={closeNavHandler}
                  />
                );
              })}

              <li className={`${classes.bottom} ${classes.bottomFirst}`}>
                <TTip tooltipPlacement={'right'} title={isCompact ? 'Вернуться на сайт' : ''}>
                  <a
                    href={`/`}
                    className={`${classes.bottomLink} ${
                      isCompact ? classes.bottomLinkCompact : ''
                    }`}
                  >
                    <Icon name={'ChevronLeft'} className={classes.bottomIcon} />
                    <span
                      className={`${classes.bottomText} ${
                        isCompact ? classes.bottomTextCompact : ''
                      }`}
                    >
                      Вернуться в каталог
                    </span>
                  </a>
                </TTip>
              </li>

              <li className={classes.bottom} onClick={toggleTheme}>
                <TTip tooltipPlacement={'right'} title={isCompact ? themeTooltip : ''}>
                  <div
                    className={`${classes.bottomLink} ${
                      isCompact ? classes.bottomLinkCompact : ''
                    }`}
                  >
                    {isDark ? (
                      <Icon className={classes.bottomIcon} name={'Brightness7'} />
                    ) : (
                      <Icon className={classes.bottomIcon} name={'Brightness4'} />
                    )}

                    <span
                      className={`${classes.bottomText} ${
                        isCompact ? classes.bottomTextCompact : ''
                      }`}
                    >
                      {themeTooltip}
                    </span>
                  </div>
                </TTip>
              </li>
            </ul>
          </div>
        </div>
      </div>

      {!isCompact && <AnimateOpacity className={classes.backdrop} onClick={closeNavHandler} />}
    </nav>
  );
};

export default AppNav;
