# Рубрики Товары Атрибуты

Каталог сайта делится на рубрики вложенностью в три уровня.
Товар возможно добавить только в третий уровень рубрикатора.
При просмотре товаров родительской рубрики отображаются все товары дочерних рубрик.

При удалении рубрики удаляются все её дочерние рубрики и убирается связь со всех товаров присвоенных данной и дочерним рубрикам.
Если при отвязке товара от рубрики у него нет связи с другими рубриками, то этот товар не будет отображаться ни в одном каталоге.
Просмотреть и отредактировать такие товары можно в разделе **Товары без рубрик** в **Рубрикаторе**.

Группы атрибутов добавляются только на второй уровень рубрикатора. Группа атрибутов (Характеристики стула) состоит из атрибутов (Цвет спинки, Материал спинки).
Атрибуту присваевается один из типов - **Селект, Мульти-селект, Строка, Число**.
Атрибуты создаются и удаляются только в рамках одной группы.

Если тип **Селект** или **Мульти-селект**, то данному атрибуту необходимо назначить **Группу опций** (Цвет, Материал). Группа опций состоит из **Опций** (Красный, Чёрный, Кожа, Дерево).
Опции создаются и удаляются только в рамках одной группы.

Если тип **Число**, то появляется возможность выбрать **Еденицу измерения** (м., км., см., кг.).

Рубрики третьего уровня наследуют Группы атрибутов рубрики второго уровня.
Рубрики первого уровня наследуют Группы атрибутов рубрик второго уровня.

Группы атрибутов являются AST (абстракто-синаксическим деревом) для формирования формы заполнения характеристик товара и фильтров в каталоге.
Отображение Групп атрибутов в виде фильтра настраивается в каждой рубрике индивидуально (показывать / не показывать).
Товар наследует AST из родительской рубрики второго уровня.

Если товар присвоен нескольким рубрикам и у этих рубрик разные родители второго уровня (Стулья > Банкетные, Столы > Банкетные),
то нужно указать из какой рубрики товару присваивается AST (Стулья || Столы).

### Схема связи рубрик, атрибутов и товаров
```
|-- Рубрика первого уровня (Мебель)
|-- |-- Рубрика второго уровня (Стулья)
|-- |-- |-- Группы атрибутов (Характеристики стула)
|-- |-- |-- |-- Aтрибуты (Цвет спинки, Материал спинки), (Селект, Мульти-селект, Строка, Число)
|-- |-- |-- |-- --- Единица измерения (м., км., см., кг.)
|-- |-- |-- |-- --- Группы опций (Цвет, Материал)
|-- |-- |-- |-- --- --- Опции (Красный, Чёрный, Кожа, Дерево)
|-- |-- |-- Рубрика третьего уровня (Банкетные)
|-- |-- |-- |-- Товары (Стул Кьявари)
```
